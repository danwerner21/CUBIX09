                      (         edit.asm):00001         ;        TITLE   CUBIX LINE EDITOR
                      (         edit.asm):00002         ;*
                      (         edit.asm):00003         ;* EDIT: A line oriented text editor
                      (         edit.asm):00004         ;*
                      (         edit.asm):00005         ;* Copyright 1983-2005 Dave Dunfield
                      (         edit.asm):00006         ;* All rights reserved.
                      (         edit.asm):00007         ;*
     2000             (         edit.asm):00008         OSRAM           = $2000                           ;APPLICATION RAM AREA
     DBFF             (         edit.asm):00009         OSEND           = $DBFF                           ;END OF GENERAL RAM
     D000             (         edit.asm):00010         OSUTIL          = $D000                           ;UTILITY ADDRESS SPACE
                      (         edit.asm):00011         
                      (         edit.asm):00012                 ORG     OSRAM                             ;DOS APPLICATION SPACE
                      (         edit.asm):00013         ;*
     2600             (         edit.asm):00014         RAM             = OSRAM+$600                      ;START OF AVAILABLE RAM, COMMAND BUFFER
     2680             (         edit.asm):00015         EDBUF           = RAM+128                         ;EDIT BUFFER
     2700             (         edit.asm):00016         SERBUF          = EDBUF+128                       ;SERIAL BUFFER
     290A             (         edit.asm):00017         TEMP            = SERBUF+522                      ;TEMPORARY STORAGE
     290C             (         edit.asm):00018         TEMP1           = TEMP+2                          ;TEMPORARY STORAGE
     290E             (         edit.asm):00019         SAVPTR          = TEMP1+2                         ;SAVED FILE POSITION (FOR :S AND :R)
     2910             (         edit.asm):00020         FILNAM          = SAVPTR+2                        ;SAVED FILENAME
     2929             (         edit.asm):00021         AUTSTR          = FILNAM+25                       ;STRING FOR AUTOMATIC COMMAND
     2A00             (         edit.asm):00022         STACK           = RAM+1024                        ;EDITOR STACK
     2A00             (         edit.asm):00023         TEXT            = STACK                           ;RAM TEXT AREA
                      (         edit.asm):00024         ;*
2000                  (         edit.asm):00025         EDIT
2000 813F             (         edit.asm):00026                 CMPA    #'?'                              ;HELP COMMAND
2002 2630             (         edit.asm):00027                 BNE     QUAL                              ;NO, LOOK FOR QUALIFIERS
2004 3F               (         edit.asm):00028                 SWI
2005 19               (         edit.asm):00029                 FCB     25
2006 5573653A20454449 (         edit.asm):00030                 FCN     'Use: EDIT[/BATCH/QUIET] <file> [<cmd file>]'
     545B2F4241544348
     2F51554945545D20
     3C66696C653E205B
     3C636D642066696C
     653E5D00
2032 3F               (         edit.asm):00031                 SWI
2033 00               (         edit.asm):00032                 FCB     0
2034                  (         edit.asm):00033         QUAL
2034 A6A4             (         edit.asm):00034                 LDA     ,Y                                ;GET CHARACTER FROM OPERAND
2036 812F             (         edit.asm):00035                 CMPA    #'/'                              ;QUALIFIER?
2038 263A             (         edit.asm):00036                 BNE     MAIN                              ;NO, CONTINUE
203A 8E25DF           (         edit.asm):00037                 LDX     #QTABLE                           ;POINT TO QUALIFIER TABLE
203D 3F               (         edit.asm):00038                 SWI
203E 12               (         edit.asm):00039                 FCB     18                                ;LOOK IT UP
203F C102             (         edit.asm):00040                 CMPB    #QMAX                             ;IS IT VALID?
2041 2407             (         edit.asm):00041                 BHS     QERR                              ;NO, GET UPSET
2043 8E25EE           (         edit.asm):00042                 LDX     #FCMD                             ;POINT TO FLAG COMMAND SPACE
2046 6F85             (         edit.asm):00043                 CLR     B,X                               ;SET THIS FLAG
2048 20EA             (         edit.asm):00044                 BRA     QUAL                              ;CONTINUE
                      (         edit.asm):00045         ;* QUALIFIER WAS NOT FOUND
204A                  (         edit.asm):00046         QERR
204A 3F               (         edit.asm):00047                 SWI
204B 18               (         edit.asm):00048                 FCB     24                                ;DISPLAY MSG
204C 496E76616C696420 (         edit.asm):00049                 FCN     'Invalid Qualifier: '
     5175616C69666965
     723A2000
2060 A6A0             (         edit.asm):00050                 LDA     ,Y+                               ;GET CHAR
2062                  (         edit.asm):00051         DSQU1
2062 3F               (         edit.asm):00052                 SWI
2063 21               (         edit.asm):00053                 FCB     33                                ;DISPLAY
2064 3F               (         edit.asm):00054                 SWI
2065 05               (         edit.asm):00055                 FCB     5                                 ;TEST FOR TERMINATOR
2066 2704             (         edit.asm):00056                 BEQ     GOABO                             ;YES, EXIT
2068 812F             (         edit.asm):00057                 CMPA    #'/'                              ;NEXT QUALIFIER?
206A 26F6             (         edit.asm):00058                 BNE     DSQU1                             ;NO, CONTINUE
206C                  (         edit.asm):00059         GOABO
206C 3F               (         edit.asm):00060                 SWI
206D 19               (         edit.asm):00061                 FCB     25                                ;DISPLAY MESSAGE
206E 2700             (         edit.asm):00062                 FCB     $27,0                             ;QUOTE, LF, CR
2070 8601             (         edit.asm):00063                 LDA     #1                                ;RETURN CODE = 1
2072 3F               (         edit.asm):00064                 SWI
2073 00               (         edit.asm):00065                 FCB     0
                      (         edit.asm):00066         ;* CONTINUE WITH EDITOR
2074                  (         edit.asm):00067         MAIN
2074 3420             (         edit.asm):00068                 PSHS    Y                                 ;SAVE POINTER TO FILENAME
2076 8E2910           (         edit.asm):00069                 LDX     #FILNAM                           ;POINT TO SAVED NAME
2079                  (         edit.asm):00070         EDI1
2079 A6A0             (         edit.asm):00071                 LDA     ,Y+                               ;GET CHAR FROM PARAMETER LINE
207B A780             (         edit.asm):00072                 STA     ,X+                               ;SAVE IN SAVED FILENAME
207D 2708             (         edit.asm):00073                 BEQ     EDI2                              ;ZERO EXITS
207F 8120             (         edit.asm):00074                 CMPA    #' '                              ;SO DUZ SPACE
2081 2704             (         edit.asm):00075                 BEQ     EDI2                              ;EXIT
2083 810D             (         edit.asm):00076                 CMPA    #$0D                              ;END OF FILE?
2085 26F2             (         edit.asm):00077                 BNE     EDI1                              ;NO, KEEP SAVEING
2087                  (         edit.asm):00078         EDI2
2087 3520             (         edit.asm):00079                 PULS    Y                                 ;RESTORE FILENAME POINTER
2089 3F               (         edit.asm):00080                 SWI
208A 0A               (         edit.asm):00081                 FCB     10                                ;GET FILENAME
208B 2670             (         edit.asm):00082                 BNE     ABORT                             ;INVALID, GET UPSET
208D 3F               (         edit.asm):00083                 SWI
208E 44               (         edit.asm):00084                 FCB     68                                ;DOES IT EXIST?
208F 2718             (         edit.asm):00085                 BEQ     FILEXI                            ;IF SO, IT EXISTS
2091 86FF             (         edit.asm):00086                 LDA     #$FF                              ;END OF FILE MARKER
2093 B72A00           (         edit.asm):00087                 STA     TEXT                              ;CLEAR THE FILE
2096 7D25EF           (         edit.asm):00088                 TST     QCMD                              ;QUIET?
2099 2715             (         edit.asm):00089                 BEQ     GOEDIT                            ;YES, DON'T DISPLAY MESSAGE
209B 3F               (         edit.asm):00090                 SWI
209C 19               (         edit.asm):00091                 FCB     25                                ;DISPLAY MESSAGE
209D 4E45572046494C45 (         edit.asm):00092                 FCN     'NEW FILE:'
     3A00
20A7 2007             (         edit.asm):00093                 BRA     GOEDIT                            ;GET COMMAND
20A9                  (         edit.asm):00094         FILEXI
20A9 8E2A00           (         edit.asm):00095                 LDX     #TEXT                             ;POINT TO TEXT BUFFER
20AC 3F               (         edit.asm):00096                 SWI
20AD 35               (         edit.asm):00097                 FCB     53                                ;LOAD FILE
20AE 264D             (         edit.asm):00098                 BNE     ABORT                             ;FAILED, GIVE UP
20B0                  (         edit.asm):00099         GOEDIT
20B0 7D25EE           (         edit.asm):00100                 TST     FCMD                              ;IS FILE INPUT?
20B3 2609             (         edit.asm):00101                 BNE     GOED1                             ;NO, SKIP IT
20B5 3F               (         edit.asm):00102                 SWI
20B6 0A               (         edit.asm):00103                 FCB     10                                ;GET FILENAME
20B7 2644             (         edit.asm):00104                 BNE     ABORT                             ;UPSET
20B9 1704F6           (         edit.asm):00105                 LBSR    OPENR                             ;OPEN INPUT FILE
20BC 263F             (         edit.asm):00106                 BNE     ABORT                             ;ERROR, EXIT
20BE                  (         edit.asm):00107         GOED1
20BE CE2A00           (         edit.asm):00108                 LDU     #TEXT                             ;LOOK FOR TEXT
20C1 FF290E           (         edit.asm):00109                 STU     SAVPTR                            ;SAVE FOR LATER
20C4 860D             (         edit.asm):00110                 LDA     #$0D                              ;GET CR
20C6 B72929           (         edit.asm):00111                 STA     AUTSTR                            ;INIT AUTO COMMAND STRING
20C9                  (         edit.asm):00112         EDMSG
20C9 7D25EF           (         edit.asm):00113                 TST     QCMD                              ;QUIET?
20CC 2708             (         edit.asm):00114                 BEQ     GOCMD                             ;NO OUTPUT
20CE 3F               (         edit.asm):00115                 SWI
20CF 19               (         edit.asm):00116                 FCB     25                                ;DISPLAY MESSAGE
20D0 454449543A00     (         edit.asm):00117                 FCN     'EDIT:'
20D6                  (         edit.asm):00118         GOCMD
20D6 10CE2A00         (         edit.asm):00119                 LDS     #STACK                            ;POINT TO STACK
20DA 170442           (         edit.asm):00120                 LBSR    GETLIN                            ;GET A LINE
20DD 3F               (         edit.asm):00121                 SWI
20DE 04               (         edit.asm):00122                 FCB     4                                 ;NULL?
20DF 2605             (         edit.asm):00123                 BNE     COM1                              ;NO, TRY PRINT
20E1                  (         edit.asm):00124         GODISP
20E1 1703F5           (         edit.asm):00125                 LBSR    DSPLIN                            ;DISPLAY IT
20E4 20F0             (         edit.asm):00126                 BRA     GOCMD                             ;AND AGAIN
                      (         edit.asm):00127         ;* LOOK FOR COMMAND
20E6                  (         edit.asm):00128         COM1
20E6 A6A0             (         edit.asm):00129                 LDA     ,Y+                               ;GET COMMAND
20E8 8161             (         edit.asm):00130                 CMPA    #$61                              ;LOWER CASE?
20EA 2502             (         edit.asm):00131                 BLO     NOCP                              ;NO, ITS OK
20EC 845F             (         edit.asm):00132                 ANDA    #$5F                              ;CONVERT TO UPPER
20EE                  (         edit.asm):00133         NOCP
20EE E6A4             (         edit.asm):00134                 LDB     ,Y                                ;GET NEXT CHAR
20F0 C45F             (         edit.asm):00135                 ANDB    #$5F                              ;CONVERT TO UPPER
                      (         edit.asm):00136         ;* 'QUIT' COMMAND
20F2 8151             (         edit.asm):00137                 CMPA    #'Q'                              ;QUIT?
20F4 2609             (         edit.asm):00138                 BNE     PRINT                             ;NO, TRY NEXT
20F6 C155             (         edit.asm):00139                 CMPB    #'U'                              ;R=IRE AT LEAST 'QU'
20F8 1026035B         (         edit.asm):00140                 LBNE    UNCMDB                            ;GET UPSET
20FC 4F               (         edit.asm):00141                 CLRA                                      ;     ZERO RETURN CODE
20FD                  (         edit.asm):00142         ABORT
20FD 3F               (         edit.asm):00143                 SWI
20FE 00               (         edit.asm):00144                 FCB     0                                 ;GO HOME
                      (         edit.asm):00145         ;* 'PRINT' COMMAND
20FF                  (         edit.asm):00146         PRINT
20FF 8150             (         edit.asm):00147                 CMPA    #'P'                              ;IS IT PRINT?
2101 2615             (         edit.asm):00148                 BNE     COM2                              ;NO, TRY NEXT
2103 170400           (         edit.asm):00149                 LBSR    GETOP1                            ;GET OPERAND
2106                  (         edit.asm):00150         PR1
2106 FF290A           (         edit.asm):00151                 STU     TEMP                              ;SAVE FOR LATER
2109 6DC4             (         edit.asm):00152                 TST     ,U                                ;AT END OF FILE?
210B 2B1C             (         edit.asm):00153                 BMI     EOF                               ;YES, REPORT
210D 1703CF           (         edit.asm):00154                 LBSR    DSPADV                            ;DISPLAY AND ADVANCE
2110 5A               (         edit.asm):00155                 DECB                                      ;     REDUCE COUNT
2111 26F3             (         edit.asm):00156                 BNE     PR1                               ;CONTINUE
2113 FE290A           (         edit.asm):00157                 LDU     TEMP                              ;BACKUP TO LAST LINE
2116 20BE             (         edit.asm):00158                 BRA     GOCMD                             ;BACK FOR NEXT COMMAND.
                      (         edit.asm):00159         ;* 'NEXT' COMMAND
2118                  (         edit.asm):00160         COM2
2118 814E             (         edit.asm):00161                 CMPA    #'N'                              ;IS IT 'NEXT'
211A 2622             (         edit.asm):00162                 BNE     COM3                              ;NO, TRY NEXT
211C 1703E7           (         edit.asm):00163                 LBSR    GETOP1                            ;GET OPERAND
211F                  (         edit.asm):00164         NEX1
211F 170391           (         edit.asm):00165                 LBSR    ADVLIN                            ;ADVANCE
2122 2B05             (         edit.asm):00166                 BMI     EOF                               ;REPORT EOF
2124 5A               (         edit.asm):00167                 DECB                                      ;     REDUCE COUNT
2125 26F8             (         edit.asm):00168                 BNE     NEX1                              ;CONTINUE
2127 20B8             (         edit.asm):00169                 BRA     GODISP                            ;NEXT COMMAND
                      (         edit.asm):00170         ;* END OF FILE WAS FOUND
2129                  (         edit.asm):00171         EOF
2129 1703CD           (         edit.asm):00172                 LBSR    DSPEOF                            ;DISPLAY END OF FILE
212C 20A8             (         edit.asm):00173                 BRA     GOCMD                             ;NEXT COMMAND
212E                  (         edit.asm):00174         TOF
212E 7D25EF           (         edit.asm):00175                 TST     QCMD                              ;QUIET MODE?
2131 27A3             (         edit.asm):00176                 BEQ     GOCMD                             ;YES, DON'T DISPLAY
2133 3F               (         edit.asm):00177                 SWI
2134 18               (         edit.asm):00178                 FCB     24                                ;DISPLAY MSG
2135 544F463A00       (         edit.asm):00179                 FCN     'TOF:'
213A                  (         edit.asm):00180         GOLFCR
213A 3F               (         edit.asm):00181                 SWI
213B 16               (         edit.asm):00182                 FCB     22                                ;NEW LINE
213C 2098             (         edit.asm):00183                 BRA     GOCMD
                      (         edit.asm):00184         ;* 'UP' COMMAND
213E                  (         edit.asm):00185         COM3
213E 8155             (         edit.asm):00186                 CMPA    #'U'                              ;WAS IT UP?
2140 260E             (         edit.asm):00187                 BNE     COM4                              ;NO, TRY NEXT
2142 1703C1           (         edit.asm):00188                 LBSR    GETOP1                            ;GET OPERAND
2145                  (         edit.asm):00189         UP1
2145 170378           (         edit.asm):00190                 LBSR    BAKLIN                            ;BACKUP
2148 26E4             (         edit.asm):00191                 BNE     TOF                               ;TOP OF FILE
214A 5A               (         edit.asm):00192                 DECB                                      ;     REDUCE COUNT
214B 26F8             (         edit.asm):00193                 BNE     UP1                               ;CONTINUE
214D 16FF91           (         edit.asm):00194                 LBRA    GODISP                            ;GO SHO IT
                      (         edit.asm):00195         ;* INSERT COMMAND
2150                  (         edit.asm):00196         COM4
2150 8149             (         edit.asm):00197                 CMPA    #'I'                              ;INSERT?
2152 261E             (         edit.asm):00198                 BNE     COM5                              ;NO, TRY DELETE
2154 7D25EF           (         edit.asm):00199                 TST     QCMD                              ;QUIET?
2157 2709             (         edit.asm):00200                 BEQ     INSP
2159 3F               (         edit.asm):00201                 SWI
215A 19               (         edit.asm):00202                 FCB     25                                ;DISPLAY MESSAGE
215B 494E5055543A00   (         edit.asm):00203                 FCN     'INPUT:'
2162                  (         edit.asm):00204         INSP
2162 1703BA           (         edit.asm):00205                 LBSR    GETLIN                            ;GET A LINE
2165 A6A4             (         edit.asm):00206                 LDA     ,Y                                ;GET LINE
2167 810D             (         edit.asm):00207                 CMPA    #$0D                              ;NULL (ZERO LENGTH)?
2169 1027FF5C         (         edit.asm):00208                 LBEQ    EDMSG                             ;IF SO, EXIT
216D 17030D           (         edit.asm):00209                 LBSR    INSERT                            ;INSERT THE LINE
2170 20F0             (         edit.asm):00210                 BRA     INSP                              ;GET NEXT COMMAND
                      (         edit.asm):00211         ;* BEGINNING OF FILE COMMAND
2172                  (         edit.asm):00212         COM5
2172 8142             (         edit.asm):00213                 CMPA    #'B'                              ;BEGIN?
2174 260A             (         edit.asm):00214                 BNE     COM6                              ;NO, SKIP IT
2176 CE2A00           (         edit.asm):00215                 LDU     #TEXT                             ;POINT TO BEGINNING
2179 6DC4             (         edit.asm):00216                 TST     ,U                                ;IS IT NULL
217B 2BB1             (         edit.asm):00217                 BMI     TOF                               ;NO, DISPLAY IT
217D 16FF61           (         edit.asm):00218                 LBRA    GODISP                            ;INDICATE TOP OF FILE
                      (         edit.asm):00219         ;* END OF FILE COMMAND
2180                  (         edit.asm):00220         COM6
2180 8145             (         edit.asm):00221                 CMPA    #'E'                              ;GO TO END OF FILE?
2182 260D             (         edit.asm):00222                 BNE     COM7                              ;NO, TRY NEXT
2184 C158             (         edit.asm):00223                 CMPB    #'X'                              ;IS IT EXIT
2186 10270405         (         edit.asm):00224                 LBEQ    EXIT
218A 170321           (         edit.asm):00225                 LBSR    FNDEOF                            ;LOCATE END OF FILE
218D 335F             (         edit.asm):00226                 LEAU    -1,U                              ;BACKUP TO IT
218F                  (         edit.asm):00227         EOF1
218F 2098             (         edit.asm):00228                 BRA     EOF                               ;INDICATE WE ARE THERE
                      (         edit.asm):00229         ;* DELETE LINES COMMAND
2191                  (         edit.asm):00230         COM7
2191 8144             (         edit.asm):00231                 CMPA    #'D'                              ;DELETE?
2193 2626             (         edit.asm):00232                 BNE     COM8                              ;NO, TRY NEXT
2195 C145             (         edit.asm):00233                 CMPB    #'E'                              ;IS IT 'DE'?
2197 102602BC         (         edit.asm):00234                 LBNE    UNCMDB                            ;NO, COMPLAIN
219B 3121             (         edit.asm):00235                 LEAY    1,Y                               ;SKIP 'E'
219D 170366           (         edit.asm):00236                 LBSR    GETOP1                            ;GET OPERAND
21A0 3440             (         edit.asm):00237                 PSHS    U                                 ;SAVE POINTER
21A2                  (         edit.asm):00238         DEL1
21A2 17030E           (         edit.asm):00239                 LBSR    ADVLIN                            ;ADVANCE A LINE
21A5 2B03             (         edit.asm):00240                 BMI     GODEL                             ;GO DELETE IT
21A7 5A               (         edit.asm):00241                 DECB                                      ;     REDUCE COUNT
21A8 26F8             (         edit.asm):00242                 BNE     DEL1                              ;GOT FOR IT
21AA                  (         edit.asm):00243         GODEL
21AA AEE4             (         edit.asm):00244                 LDX     ,S                                ;GET POINT TO START
21AC                  (         edit.asm):00245         GODEL1
21AC A6C0             (         edit.asm):00246                 LDA     ,U+                               ;GET CHARACTER FROM LINE
21AE A780             (         edit.asm):00247                 STA     ,X+                               ;SAVE
21B0 2AFA             (         edit.asm):00248                 BPL     GODEL1                            ;SAVE IT ALL
21B2 3540             (         edit.asm):00249                 PULS    U                                 ;RESTORE POINTER
21B4                  (         edit.asm):00250         EOFTST
21B4 A6C4             (         edit.asm):00251                 LDA     ,U                                ;GET STATUS
21B6 2BD7             (         edit.asm):00252                 BMI     EOF1                              ;INDICATE IF EOF
21B8 16FF1B           (         edit.asm):00253                 LBRA    GOCMD                             ;GET NEXT COMMAND
                      (         edit.asm):00254         ;* 'CHANGE' COMMAND
21BB                  (         edit.asm):00255         COM8
21BB 8143             (         edit.asm):00256                 CMPA    #'C'                              ;TEST FOR CHANGE
21BD 1026013E         (         edit.asm):00257                 LBNE    LOCATE                            ;NO, TRY NEXT
21C1 C141             (         edit.asm):00258                 CMPB    #'A'                              ;CHANGE ALL?
21C3 2708             (         edit.asm):00259                 BEQ     CHA1                              ;IF SO, SKIP IT
21C5 C144             (         edit.asm):00260                 CMPB    #'D'                              ;IS IT CHANGE DISPLAY?
21C7 2704             (         edit.asm):00261                 BEQ     CHA1                              ;YES
21C9 C148             (         edit.asm):00262                 CMPB    #'H'                              ;CHANGE LINE?
21CB 2602             (         edit.asm):00263                 BNE     CHA                               ;NO, SKIP IT
21CD                  (         edit.asm):00264         CHA1
21CD 3121             (         edit.asm):00265                 LEAY    1,Y                               ;SKIP
21CF                  (         edit.asm):00266         CHA
21CF 7F290B           (         edit.asm):00267                 CLR     TEMP+1                            ;INDICATE NO DISPLAY
21D2 7F290C           (         edit.asm):00268                 CLR     TEMP1
21D5 7F290D           (         edit.asm):00269                 CLR     TEMP1+1
21D8 3F               (         edit.asm):00270                 SWI
21D9 04               (         edit.asm):00271                 FCB     4                                 ;SKIP AHEAD
21DA 1027028D         (         edit.asm):00272                 LBEQ    BADOPR                            ;NO OPERATOR
21DE B7290A           (         edit.asm):00273                 STA     TEMP                              ;SAVE DELIMITER
21E1 3121             (         edit.asm):00274                 LEAY    1,Y                               ;SKIP DELIMITER
21E3 3440             (         edit.asm):00275                 PSHS    U                                 ;SAVE U
                      (         edit.asm):00276         ;* TEST FOR CHANGE LINE
21E5 C148             (         edit.asm):00277                 CMPB    #'H'                              ;CHANGE LINE?
21E7 265E             (         edit.asm):00278                 BNE     CHAL                              ;NO, TRY CHANGE ALL
21E9 1700CF           (         edit.asm):00279                 LBSR    DOCHG                             ;DO CHANGE
21EC 10260021         (         edit.asm):00280                 LBNE    CNOTR                             ;NOT FOUND
21F0                  (         edit.asm):00281         CHL1
21F0 FC290C           (         edit.asm):00282                 LDD     TEMP1
21F3 C30001           (         edit.asm):00283                 ADDD    #1
21F6 FD290C           (         edit.asm):00284                 STD     TEMP1
21F9 1700C8           (         edit.asm):00285                 LBSR    DOCH1                             ;DO IT AGAIN
21FC 27F2             (         edit.asm):00286                 BEQ     CHL1                              ;CONTINUE
21FE EEE4             (         edit.asm):00287                 LDU     ,S                                ;RESTORE
2200 17029C           (         edit.asm):00288                 LBSR    DELETE                            ;DELETE THIS LINE
2203 108E2680         (         edit.asm):00289                 LDY     #EDBUF                            ;POINT TO BUFFER
2207 170273           (         edit.asm):00290                 LBSR    INSERT                            ;INSERT IT
220A 3540             (         edit.asm):00291                 PULS    U                                 ;RESTORE
220C 8D15             (         edit.asm):00292                 BSR     SHOCHG                            ;DISPLAY IT
220E 16FED0           (         edit.asm):00293                 LBRA    GODISP
2211                  (         edit.asm):00294         CNOTR
2211 3540             (         edit.asm):00295                 PULS    U                                 ;RESTORE TEXT POINTER
2213                  (         edit.asm):00296         CNOTF
2213 3F               (         edit.asm):00297                 SWI
2214 19               (         edit.asm):00298                 FCB     25
2215 4E6F7420666F756E (         edit.asm):00299                 FCN     'Not found.'
     642E00
2220 16FEB3           (         edit.asm):00300                 LBRA    GOCMD
2223                  (         edit.asm):00301         SHOCHG
2223 B625EF           (         edit.asm):00302                 LDA     QCMD
2226 271E             (         edit.asm):00303                 BEQ     SHOR
2228 FC290C           (         edit.asm):00304                 LDD     TEMP1
222B 27E6             (         edit.asm):00305                 BEQ     CNOTF
222D 3F               (         edit.asm):00306                 SWI
222E 1A               (         edit.asm):00307                 FCB     26                                ;OUTPUT IN DEC
222F 3F               (         edit.asm):00308                 SWI
2230 19               (         edit.asm):00309                 FCB     25
2231 206F63637572616E (         edit.asm):00310                 FCN     ' occurances changed.'
     636573206368616E
     6765642E00
2246                  (         edit.asm):00311         SHOR
2246 39               (         edit.asm):00312                 RTS
                      (         edit.asm):00313         ;* CHANGE ALL OCCURENCES
2247                  (         edit.asm):00314         CHAL
2247 C141             (         edit.asm):00315                 CMPB    #'A'                              ;CHANGE FILE?
2249 2707             (         edit.asm):00316                 BEQ     GOCHG                             ;YES
224B C144             (         edit.asm):00317                 CMPB    #'D'                              ;CHANGE DISPLAY?
224D 264C             (         edit.asm):00318                 BNE     CHGF                              ;NO, JUST FIRST OCCURRANCE
224F 7A290B           (         edit.asm):00319                 DEC     TEMP+1                            ;SET FLAG
2252                  (         edit.asm):00320         GOCHG
2252 CE2A00           (         edit.asm):00321                 LDU     #TEXT                             ;POINT TO RAM
2255                  (         edit.asm):00322         CHAL1
2255 3440             (         edit.asm):00323                 PSHS    U                                 ;SAVE IT
2257 170061           (         edit.asm):00324                 LBSR    DOCHG                             ;PERFORM CHANGE
225A 2632             (         edit.asm):00325                 BNE     NEXTL                             ;NOT ON THIS LINE
225C                  (         edit.asm):00326         CHAL2
225C FC290C           (         edit.asm):00327                 LDD     TEMP1
225F C30001           (         edit.asm):00328                 ADDD    #1
2262 FD290C           (         edit.asm):00329                 STD     TEMP1
2265 17005C           (         edit.asm):00330                 LBSR    DOCH1
2268 27F2             (         edit.asm):00331                 BEQ     CHAL2
226A 3540             (         edit.asm):00332                 PULS    U
226C 3460             (         edit.asm):00333                 PSHS    Y,U
226E 17022E           (         edit.asm):00334                 LBSR    DELETE
2271 108E2680         (         edit.asm):00335                 LDY     #EDBUF
2275 170205           (         edit.asm):00336                 LBSR    INSERT
2278 3560             (         edit.asm):00337                 PULS    Y,U
227A B6290B           (         edit.asm):00338                 LDA     TEMP+1                            ;TEST FOR CHANGE DISPLAY
227D 2705             (         edit.asm):00339                 BEQ     CHAL3                             ;NO, OK
227F 17025D           (         edit.asm):00340                 LBSR    DSPADV                            ;DSPLAY LINE
2282 200C             (         edit.asm):00341                 BRA     CHAL5                             ;TEST FOR END OF FILE
2284                  (         edit.asm):00342         CHAL3
2284 A6C0             (         edit.asm):00343                 LDA     ,U+
2286 2B0C             (         edit.asm):00344                 BMI     CHAL4
2288 810D             (         edit.asm):00345                 CMPA    #$0D
228A 26F8             (         edit.asm):00346                 BNE     CHAL3
228C 2002             (         edit.asm):00347                 BRA     CHAL5
228E                  (         edit.asm):00348         NEXTL
228E 3262             (         edit.asm):00349                 LEAS    2,S
2290                  (         edit.asm):00350         CHAL5
2290 A6C4             (         edit.asm):00351                 LDA     ,U
2292 2AC1             (         edit.asm):00352                 BPL     CHAL1
2294                  (         edit.asm):00353         CHAL4
2294 3540             (         edit.asm):00354                 PULS    U
2296 8D8B             (         edit.asm):00355                 BSR     SHOCHG
2298 16FE3B           (         edit.asm):00356                 LBRA    GOCMD
                      (         edit.asm):00357         ;* CHANGE FIRST OCCURANCE
229B                  (         edit.asm):00358         CHGF
229B 17001D           (         edit.asm):00359                 LBSR    DOCHG
229E 1026FF6F         (         edit.asm):00360                 LBNE    CNOTR
                      (         edit.asm):00361         ;* COPY REMAINDER OF LINE OVER
22A2                  (         edit.asm):00362         MTC3
22A2 A6C0             (         edit.asm):00363                 LDA     ,U+                               ;GET CHARACTER FROM LINE
22A4 A780             (         edit.asm):00364                 STA     ,X+                               ;SAVE IN OUTPUT
22A6 810D             (         edit.asm):00365                 CMPA    #$0D                              ;END OF LINE?
22A8 26F8             (         edit.asm):00366                 BNE     MTC3                              ;COPY REMAINDER OF LINE OVER
22AA EEE4             (         edit.asm):00367                 LDU     ,S                                ;GET TEXT POINTER
22AC 1701F0           (         edit.asm):00368                 LBSR    DELETE                            ;DELETE THIS LINE
22AF 108E2680         (         edit.asm):00369                 LDY     #EDBUF                            ;POINT TO EDIT BUFFER
22B3 1701C7           (         edit.asm):00370                 LBSR    INSERT                            ;PUT IT IN
22B6 3540             (         edit.asm):00371                 PULS    U
22B8 16FE26           (         edit.asm):00372                 LBRA    GODISP
                      (         edit.asm):00373         ;* PERFORM CHANGE TO TEXT, ON ENTRY, Y POINTS TO CHANGE COMMAND OPERANDS
                      (         edit.asm):00374         ;* ON EXIT, Z FLAG IS SET IT CHANGE WAS FOUND, AND U POINTS TO REMAINDER
                      (         edit.asm):00375         ;* OF LINE, OTHERWISE, U POINTS TO START OF NEXT LINE
22BB                  (         edit.asm):00376         DOCHG
22BB 8E2680           (         edit.asm):00377                 LDX     #EDBUF                            ;POINT TO EDITING BUFFER
22BE A6C4             (         edit.asm):00378                 LDA     ,U                                ;CHECK POSITION
22C0 102BFE65         (         edit.asm):00379                 LBMI    EOF                               ;WE ARE AT END OF TEXT
     22C4             (         edit.asm):00380         DOCH1           = *
22C4                  (         edit.asm):00381         MTCH1
22C4 3470             (         edit.asm):00382                 PSHS    X,Y,U                             ;SAVE POINTERS
22C6                  (         edit.asm):00383         MTCH
22C6 A6A0             (         edit.asm):00384                 LDA     ,Y+                               ;GET CHARACTER
22C8 B1290A           (         edit.asm):00385                 CMPA    TEMP                              ;IS IT DELIMITER?
22CB 271C             (         edit.asm):00386                 BEQ     MTCF                              ;WE FOUND IT
22CD A6C0             (         edit.asm):00387                 LDA     ,U+                               ;GET CHAR FROM BUFFER
22CF A780             (         edit.asm):00388                 STA     ,X+                               ;SAVE IN EDIT BUFFER
22D1 810D             (         edit.asm):00389                 CMPA    #$0D                              ;DID WE HIT END
22D3 270C             (         edit.asm):00390                 BEQ     MTNOTF                            ;NOT FOUND
22D5 A13F             (         edit.asm):00391                 CMPA    -1,Y                              ;DOES IT MATCH US
22D7 27ED             (         edit.asm):00392                 BEQ     MTCH                              ;WE FOUND
22D9 3570             (         edit.asm):00393                 PULS    X,Y,U                             ;RESTORE REGS
22DB 3001             (         edit.asm):00394                 LEAX    1,X                               ;ADVANCE IN BUFFER
22DD 3341             (         edit.asm):00395                 LEAU    1,U                               ;ADVANCE IN TEXT
22DF 20E3             (         edit.asm):00396                 BRA     MTCH1                             ;NOT FOUND
22E1                  (         edit.asm):00397         MTNOTF
22E1 10AE62           (         edit.asm):00398                 LDY     2,S                               ;RESTORE
22E4 3266             (         edit.asm):00399                 LEAS    6,S                               ;SKIP TWO SAVED U'S
22E6 8601             (         edit.asm):00400                 LDA     #1                                ;CLEAR Z FLAG
22E8 39               (         edit.asm):00401                 RTS
                      (         edit.asm):00402         ;* INSERT CHANGE BUFFER CONTENTS
22E9                  (         edit.asm):00403         MTCF
22E9 AEE1             (         edit.asm):00404                 LDX     ,S++                              ;GET POINTER TO THIS PART
22EB                  (         edit.asm):00405         MTC1
22EB A6A0             (         edit.asm):00406                 LDA     ,Y+                               ;GET CHARACTER FROM LINE
22ED 810D             (         edit.asm):00407                 CMPA    #$0D                              ;END OF LINE
22EF 2709             (         edit.asm):00408                 BEQ     MTC2                              ;INVALID OPERATOR
22F1 B1290A           (         edit.asm):00409                 CMPA    TEMP                              ;DELIMITER?
22F4 2704             (         edit.asm):00410                 BEQ     MTC2                              ;IF SO, QUIT
22F6 A780             (         edit.asm):00411                 STA     ,X+                               ;SAVE IN BUFFER
22F8 20F1             (         edit.asm):00412                 BRA     MTC1                              ;AND CONTINUE
22FA                  (         edit.asm):00413         MTC2
22FA 3520             (         edit.asm):00414                 PULS    Y                                 ;RESTORE Y
22FC 3262             (         edit.asm):00415                 LEAS    2,S                               ;SKIP SAVED U
22FE 39               (         edit.asm):00416                 RTS
                      (         edit.asm):00417         ;* LOCATE COMMAND
22FF                  (         edit.asm):00418         LOCATE
22FF 812F             (         edit.asm):00419                 CMPA    #'/'                              ;LOCATE?
2301 262D             (         edit.asm):00420                 BNE     REPEAT                            ;NO, SKIP IT
2303                  (         edit.asm):00421         LOC1
2303 1701AD           (         edit.asm):00422                 LBSR    ADVLIN                            ;ADVANCE A LINE
2306 102BFE1F         (         edit.asm):00423                 LBMI    EOF                               ;INDICATE WE HIT THE END
230A                  (         edit.asm):00424         LOC2
230A 3460             (         edit.asm):00425                 PSHS    Y,U                               ;SAVE POINTERS
230C                  (         edit.asm):00426         LOC3
230C A6C4             (         edit.asm):00427                 LDA     ,U                                ;GET CHARACTER FROM BUFFER
230E 2B10             (         edit.asm):00428                 BMI     HITEOF                            ;FOUND END OF FILE
2310 A6A0             (         edit.asm):00429                 LDA     ,Y+                               ;DO WE HAVE IT
2312 810D             (         edit.asm):00430                 CMPA    #$0D                              ;END OF LINE
2314 270F             (         edit.asm):00431                 BEQ     FNDIT                             ;IF SO, WE FOUND
2316 A1C0             (         edit.asm):00432                 CMPA    ,U+                               ;IS THIS IT?
2318 27F2             (         edit.asm):00433                 BEQ     LOC3                              ;IF CONTINUES TO MATCH, GO FOR IT
231A 3560             (         edit.asm):00434                 PULS    Y,U                               ;RESTORE REGS
231C 3341             (         edit.asm):00435                 LEAU    1,U                               ;SKIP TO NEXT
231E 20EA             (         edit.asm):00436                 BRA     LOC2                              ;KEEP LOOKING
2320                  (         edit.asm):00437         HITEOF
2320 333F             (         edit.asm):00438                 LEAU    -1,Y                              ;BACKUP
2322 16FE04           (         edit.asm):00439                 LBRA    EOF                               ;GET UPSET
2325                  (         edit.asm):00440         FNDIT
2325 A6C2             (         edit.asm):00441                 LDA     ,-U                               ;BACKUP
2327 810D             (         edit.asm):00442                 CMPA    #$0D                              ;LOOK FOR CR
2329 26FA             (         edit.asm):00443                 BNE     FNDIT                             ;KEEP LOOKING
232B 3341             (         edit.asm):00444                 LEAU    1,U                               ;SKIP AEHEAD
232D 16FDB1           (         edit.asm):00445                 LBRA    GODISP
                      (         edit.asm):00446         ;* REPEAT A LINE
2330                  (         edit.asm):00447         REPEAT
2330 812B             (         edit.asm):00448                 CMPA    #'+'                              ;REPEAT?
2332 2623             (         edit.asm):00449                 BNE     WRITE                             ;NO, TRY NEXT
2334 1701CF           (         edit.asm):00450                 LBSR    GETOP1                            ;GET OPERAND
2337 8E2680           (         edit.asm):00451                 LDX     #EDBUF                            ;POINT TO EDIT BUFFER
233A 3440             (         edit.asm):00452                 PSHS    U                                 ;SAVE POINTER
233C                  (         edit.asm):00453         REP1
233C A6C0             (         edit.asm):00454                 LDA     ,U+                               ;GET CHAR. FROM TEXT
233E A780             (         edit.asm):00455                 STA     ,X+                               ;SAVE IN TEXT
2340 810D             (         edit.asm):00456                 CMPA    #$0D                              ;END?
2342 26F8             (         edit.asm):00457                 BNE     REP1                              ;NO, MOVE ENTIRE LINE
2344 3540             (         edit.asm):00458                 PULS    U                                 ;RESTORE POINTER
2346 F7290A           (         edit.asm):00459                 STB     TEMP                              ;SAVE FOR LATER
2349                  (         edit.asm):00460         REP2
2349 108E2680         (         edit.asm):00461                 LDY     #EDBUF                            ;POINT TO BUFFER
234D 17012D           (         edit.asm):00462                 LBSR    INSERT                            ;PUT IT IN
2350 7A290A           (         edit.asm):00463                 DEC     TEMP                              ;REDUCE COUNT
2353 26F4             (         edit.asm):00464                 BNE     REP2                              ;KEEP AT IT
2355 2056             (         edit.asm):00465                 BRA     GOCMD1                            ;GET NEXT COMMAND
                      (         edit.asm):00466         ;* WRITE FILE TO SEPERATE FILE
2357                  (         edit.asm):00467         WRITE
2357 8157             (         edit.asm):00468                 CMPA    #'W'                              ;IS IT 'WRITE'?
2359 2655             (         edit.asm):00469                 BNE     READ                              ;NO, TRY NEXT
235B 1701A8           (         edit.asm):00470                 LBSR    GETOP1                            ;GET OPERAND
235E 3404             (         edit.asm):00471                 PSHS    B                                 ;SAVE COUNT
2360 170217           (         edit.asm):00472                 LBSR    UCASE                             ;CONVERT TO UPPER
2363 3F               (         edit.asm):00473                 SWI
2364 0A               (         edit.asm):00474                 FCB     10                                ;GET FILENAME
2365 2646             (         edit.asm):00475                 BNE     GOCMD1                            ;INVALID, QUIT
2367 E6E0             (         edit.asm):00476                 LDB     ,S+                               ;RESTORE B
2369 2605             (         edit.asm):00477                 BNE     WRLINS                            ;YES
236B 17022F           (         edit.asm):00478                 LBSR    SAVFIL                            ;SAVE IT
236E 203D             (         edit.asm):00479                 BRA     GOCMD1                            ;QUIT
2370                  (         edit.asm):00480         WRLINS
2370 170248           (         edit.asm):00481                 LBSR    OPENW                             ;OPEN FOR WRITE
2373 2638             (         edit.asm):00482                 BNE     GOCMD1                            ;BAD, QUIT
2375 1F31             (         edit.asm):00483                 TFR     U,X                               ;COPY POINTER
2377 108E0000         (         edit.asm):00484                 LDY     #0                                ;START WITH ZERO
237B                  (         edit.asm):00485         WRLI1
237B A684             (         edit.asm):00486                 LDA     ,X                                ;GET CHAR
237D 2B10             (         edit.asm):00487                 BMI     WRLI2                             ;IF END, CLOSE IT
237F 17024B           (         edit.asm):00488                 LBSR    WRITEC                            ;WRITE CHAR
2382 2629             (         edit.asm):00489                 BNE     GOCMD1                            ;ERROR, QUIT
2384 A680             (         edit.asm):00490                 LDA     ,X+                               ;GET CHAR BACK
2386 810D             (         edit.asm):00491                 CMPA    #$0D                              ;END OF LINE?
2388 26F1             (         edit.asm):00492                 BNE     WRLI1                             ;OK
238A 3121             (         edit.asm):00493                 LEAY    1,Y                               ;ADVANCE LINE COUNT
238C 5A               (         edit.asm):00494                 DECB                                      ;     REDUCE COUNT
238D 26EC             (         edit.asm):00495                 BNE     WRLI1                             ;CONTINUE
238F                  (         edit.asm):00496         WRLI2
238F 170244           (         edit.asm):00497                 LBSR    CLOSE                             ;CLOSE FILE
2392 7D25EF           (         edit.asm):00498                 TST     QCMD                              ;BEING QUIET?
2395 2716             (         edit.asm):00499                 BEQ     GOCMD1                            ;IF SO, SAY NOTHING
2397 1F20             (         edit.asm):00500                 TFR     Y,D                               ;COPY TO D
2399 3F               (         edit.asm):00501                 SWI
239A 1A               (         edit.asm):00502                 FCB     26                                ;DISPLAY IN DECIMAL
239B 3F               (         edit.asm):00503                 SWI
239C 19               (         edit.asm):00504                 FCB     25
239D 206C696E65732077 (         edit.asm):00505                 FCN     ' lines written.'
     72697474656E2E00
23AD                  (         edit.asm):00506         GOCMD1
23AD 16FD26           (         edit.asm):00507                 LBRA    GOCMD                             ;BACK FOR ANOTHER COMMAND
                      (         edit.asm):00508         ;* READ ANOTHER FILE INTO THIS ONE
23B0                  (         edit.asm):00509         READ
23B0 8152             (         edit.asm):00510                 CMPA    #'R'                              ;IS IT READ?
23B2 262B             (         edit.asm):00511                 BNE     QUERY                             ;NO, TRY NEXT
23B4 1701C3           (         edit.asm):00512                 LBSR    UCASE                             ;CONVERT TO UPPER
23B7 3F               (         edit.asm):00513                 SWI
23B8 0A               (         edit.asm):00514                 FCB     10                                ;GET FILE NAME
23B9 26F2             (         edit.asm):00515                 BNE     GOCMD1                            ;INVALID
23BB A6C4             (         edit.asm):00516                 LDA     ,U                                ;ARE WE AT EOF?
23BD 2A06             (         edit.asm):00517                 BPL     READ1                             ;NO, DO IT HARD WAY
23BF 1F31             (         edit.asm):00518                 TFR     U,X                               ;POINT AT END OF FILE
23C1 3F               (         edit.asm):00519                 SWI
23C2 35               (         edit.asm):00520                 FCB     53                                ;LOAD FILE
23C3 20E8             (         edit.asm):00521                 BRA     GOCMD1                            ;AND CONTINUE
23C5                  (         edit.asm):00522         READ1
23C5 1701EA           (         edit.asm):00523                 LBSR    OPENR                             ;OPEN FILE
23C8 26E3             (         edit.asm):00524                 BNE     GOCMD1                            ;BAD, QUIT
23CA                  (         edit.asm):00525         READ2
23CA 8E2600           (         edit.asm):00526                 LDX     #RAM                              ;POINT TO RAM
23CD 1F12             (         edit.asm):00527                 TFR     X,Y                               ;COPY FOR LATER INSERT
23CF                  (         edit.asm):00528         READ3
23CF 1701F2           (         edit.asm):00529                 LBSR    READC                             ;READ A CHAR
23D2 26D9             (         edit.asm):00530                 BNE     GOCMD1                            ;END OF LINE
23D4 A780             (         edit.asm):00531                 STA     ,X+                               ;SAVE IT
23D6 810D             (         edit.asm):00532                 CMPA    #$0D                              ;TEST FOR END OF LINE
23D8 26F5             (         edit.asm):00533                 BNE     READ3                             ;KEEP READING
23DA 1700A0           (         edit.asm):00534                 LBSR    INSERT                            ;INSERT LINE
23DD 20EB             (         edit.asm):00535                 BRA     READ2                             ;AND GO AGAIN,
                      (         edit.asm):00536         ;* '?' QUERY FILE
23DF                  (         edit.asm):00537         QUERY
23DF 813F             (         edit.asm):00538                 CMPA    #'?'                              ;IS IT QUERY?
23E1 2636             (         edit.asm):00539                 BNE     DOSCMD                            ;NO, TRY NEXT
23E3 108E2A00         (         edit.asm):00540                 LDY     #TEXT                             ;POINT TO START
23E7 8E0000           (         edit.asm):00541                 LDX     #0                                ;INDICATE NUMBER OF LINE
23EA                  (         edit.asm):00542         QUE1
23EA A6A0             (         edit.asm):00543                 LDA     ,Y+
23EC 2B08             (         edit.asm):00544                 BMI     QUE2                              ;GET OUT ON END OF FILE
23EE 810D             (         edit.asm):00545                 CMPA    #$0D                              ;IS IT A NEW LINE
23F0 26F8             (         edit.asm):00546                 BNE     QUE1                              ;NO, KEEP LOOKING
23F2 3001             (         edit.asm):00547                 LEAX    1,X                               ;ADVANCE
23F4 20F4             (         edit.asm):00548                 BRA     QUE1                              ;AND KEEP LOOKING
23F6                  (         edit.asm):00549         QUE2
23F6 313F             (         edit.asm):00550                 LEAY    -1,Y                              ;BACKUP TO EOF MARKER
23F8 1F20             (         edit.asm):00551                 TFR     Y,D                               ;COPY TO D
23FA 832A00           (         edit.asm):00552                 SUBD    #TEXT                             ;CONVERT TO SIMPLE NUMBER
23FD 3F               (         edit.asm):00553                 SWI
23FE 1A               (         edit.asm):00554                 FCB     26                                ;DISPLAY IN DECIMAL
23FF 3F               (         edit.asm):00555                 SWI
2400 18               (         edit.asm):00556                 FCB     24
2401 2062797465732C20 (         edit.asm):00557                 FCN     ' bytes, '
     00
240A 1F10             (         edit.asm):00558                 TFR     X,D                               ;COPY NUMBER OF LINES
240C 3F               (         edit.asm):00559                 SWI
240D 1A               (         edit.asm):00560                 FCB     26                                ;DISPLAY
240E 3F               (         edit.asm):00561                 SWI
240F 19               (         edit.asm):00562                 FCB     25
2410 206C696E657300   (         edit.asm):00563                 FCN     ' lines'
2417 201E             (         edit.asm):00564                 BRA     GOCMD2                            ;GET NEXT COMMAND
                      (         edit.asm):00565         ;* EXECUTE DOS COMMAND
2419                  (         edit.asm):00566         DOSCMD
2419 812A             (         edit.asm):00567                 CMPA    #'*'                              ;IS IT DOS COMMAND?
241B 260B             (         edit.asm):00568                 BNE     AUTCMD                            ;NO, TRY NEXT
241D 17015A           (         edit.asm):00569                 LBSR    UCASE                             ;CONVERT TO UPPER CASE
2420 3440             (         edit.asm):00570                 PSHS    U                                 ;SAVE TEXT POINTER
2422 3F               (         edit.asm):00571                 SWI
2423 64               (         edit.asm):00572                 FCB     100                               ;EXECUTE COMMAND
2424 3540             (         edit.asm):00573                 PULS    U                                 ;RESTORE POINTER
2426 200F             (         edit.asm):00574                 BRA     GOCMD2                            ;BACK FOR NEXT COMMAND
                      (         edit.asm):00575         ;* SET AUTOMATIC COMMAND
2428                  (         edit.asm):00576         AUTCMD
2428 8124             (         edit.asm):00577                 CMPA    #'$'                              ;SET AUTO?
242A 260E             (         edit.asm):00578                 BNE     SAVREST                           ;NO, TRY NEXT
242C 8E2929           (         edit.asm):00579                 LDX     #AUTSTR                           ;POINT TO STRING
242F                  (         edit.asm):00580         AUT1
242F A6A0             (         edit.asm):00581                 LDA     ,Y+                               ;GET STRING
2431 A780             (         edit.asm):00582                 STA     ,X+                               ;SAVE
2433 810D             (         edit.asm):00583                 CMPA    #$0D                              ;END OF LINE?
2435 26F8             (         edit.asm):00584                 BNE     AUT1                              ;CONTINUE
2437                  (         edit.asm):00585         GOCMD2
2437 16FC9C           (         edit.asm):00586                 LBRA    GOCMD                             ;BACK FOR MORE
                      (         edit.asm):00587         ;* SAVE AND RESTORE
243A                  (         edit.asm):00588         SAVREST
243A 813A             (         edit.asm):00589                 CMPA    #':'                              ;IS IT COLON COMMAND
243C 261B             (         edit.asm):00590                 BNE     UNCMD                             ;NO, TRY NEXT
243E C153             (         edit.asm):00591                 CMPB    #'S'                              ;IS IT A SAVE?
2440 2606             (         edit.asm):00592                 BNE     REST1                             ;IS IT A REPEAT?
2442 FF290E           (         edit.asm):00593                 STU     SAVPTR                            ;SAVE IT
2445 16FC8E           (         edit.asm):00594                 LBRA    GOCMD                             ;AND GET NEXT COMMAND
2448                  (         edit.asm):00595         REST1
2448 C152             (         edit.asm):00596                 CMPB    #'R'                              ;RESTORE
244A 260B             (         edit.asm):00597                 BNE     UNCMDB                            ;NO, INDICATE WE ARE UPSET
244C FE290E           (         edit.asm):00598                 LDU     SAVPTR                            ;POINT TO SAVED LOCATION
244F 3341             (         edit.asm):00599                 LEAU    1,U                               ;ADVANCE
2451 17006E           (         edit.asm):00600                 LBSR    BAK1                              ;POSITION TO START OF LINE
2454 16FC8A           (         edit.asm):00601                 LBRA    GODISP                            ;DISPLAY IT
                      (         edit.asm):00602         ;* DISPLAY VALUE FROM B ACCUMULATOR AS ERROR MESSAGE
2457                  (         edit.asm):00603         UNCMDB
2457 1F98             (         edit.asm):00604                 TFR     B,A                               ;COPY
                      (         edit.asm):00605         ;* COMMAND WAS NOT RECOGNIZED
2459                  (         edit.asm):00606         UNCMD
2459 3F               (         edit.asm):00607                 SWI
245A 18               (         edit.asm):00608                 FCB     24
245B 07               (         edit.asm):00609                 FCB     $07
245C 3F454449543A2000 (         edit.asm):00610                 FCN     '?EDIT: '
2464 17008A           (         edit.asm):00611                 LBSR    PUTCHR
2467 3F               (         edit.asm):00612                 SWI
2468 16               (         edit.asm):00613                 FCB     22
2469 200F             (         edit.asm):00614                 BRA     GCMD
                      (         edit.asm):00615         ;* BAD OPERAND
246B                  (         edit.asm):00616         BADOPR
246B 3F               (         edit.asm):00617                 SWI
246C 19               (         edit.asm):00618                 FCB     25
246D 426164206F706572 (         edit.asm):00619                 FCN     'Bad operand.'
     616E642E00
247A                  (         edit.asm):00620         GCMD
247A 16FC59           (         edit.asm):00621                 LBRA    GOCMD
                      (         edit.asm):00622         ;*
                      (         edit.asm):00623         ;* INSERT A LINE(Y) INTO THE TEXT
                      (         edit.asm):00624         ;*
247D                  (         edit.asm):00625         INSERT
247D 5F               (         edit.asm):00626                 CLRB                                      ;     START WITH ZERO
247E 3460             (         edit.asm):00627                 PSHS    Y,U                               ;SAVE POINTERS
2480                  (         edit.asm):00628         INS1
2480 A6A0             (         edit.asm):00629                 LDA     ,Y+                               ;GET CHARACTER FROM LINE
2482 5C               (         edit.asm):00630                 INCB                                      ;     ADVANCE COUNTER
2483 810D             (         edit.asm):00631                 CMPA    #$0D                              ;IS IT CR?
2485 26F9             (         edit.asm):00632                 BNE     INS1                              ;NO, KEEP LOOKING
2487 8D25             (         edit.asm):00633                 BSR     FNDEOF                            ;LOCATE END OF FILE
2489 30C5             (         edit.asm):00634                 LEAX    B,U                               ;ADVANCE FOR REST
248B                  (         edit.asm):00635         INS2
248B A6C2             (         edit.asm):00636                 LDA     ,-U                               ;SKIP BACK
248D A782             (         edit.asm):00637                 STA     ,-X                               ;SAVE BACK
248F 11A362           (         edit.asm):00638                 CMPU    2,S                               ;ARE WE OVER
2492 22F7             (         edit.asm):00639                 BHI     INS2                              ;CONTINUE
2494 3560             (         edit.asm):00640                 PULS    Y,U                               ;RESTORE POSITION
2496                  (         edit.asm):00641         INS3
2496 A6A0             (         edit.asm):00642                 LDA     ,Y+                               ;GET CHAR
2498 A7C0             (         edit.asm):00643                 STA     ,U+                               ;SAVE
249A 810D             (         edit.asm):00644                 CMPA    #$0D                              ;END OF LINE?
249C 26F8             (         edit.asm):00645                 BNE     INS3                              ;NO, CONTINUE
249E 39               (         edit.asm):00646                 RTS
                      (         edit.asm):00647         ;*
                      (         edit.asm):00648         ;* DELETE A LINE FROM THE TEXT(U)
                      (         edit.asm):00649         ;*
249F                  (         edit.asm):00650         DELETE
249F 3440             (         edit.asm):00651                 PSHS    U                                 ;SAVE POINTER
24A1 17000F           (         edit.asm):00652                 LBSR    ADVLIN                            ;ADVANCE A LINE
24A4 AEE4             (         edit.asm):00653                 LDX     ,S                                ;GET POINTER
24A6                  (         edit.asm):00654         DELI1
24A6 A6C0             (         edit.asm):00655                 LDA     ,U+                               ;GET CHAR FROM TEXT
24A8 A780             (         edit.asm):00656                 STA     ,X+                               ;SAVE IN RAM
24AA 2AFA             (         edit.asm):00657                 BPL     DELI1                             ;DO IT ALL
24AC 35C0             (         edit.asm):00658                 PULS    U,PC                              ;GO HOME
                      (         edit.asm):00659         ;*
                      (         edit.asm):00660         ;* FINDS END OF FILE
                      (         edit.asm):00661         ;*
24AE                  (         edit.asm):00662         FNDEOF
24AE A6C0             (         edit.asm):00663                 LDA     ,U+                               ;GET CHAR FROM FILE
24B0 2AFC             (         edit.asm):00664                 BPL     FNDEOF                            ;KEEP LOOKING
24B2 39               (         edit.asm):00665                 RTS
                      (         edit.asm):00666         ;*
                      (         edit.asm):00667         ;* ADVANCE A LINE
                      (         edit.asm):00668         ;*
24B3                  (         edit.asm):00669         ADVLIN
24B3 A6C0             (         edit.asm):00670                 LDA     ,U+                               ;GET CHAR FROM LINE
24B5 2B06             (         edit.asm):00671                 BMI     ADVEOF                            ;END OF FILE
24B7 810D             (         edit.asm):00672                 CMPA    #$0D                              ;END OF LINE?
24B9 26F8             (         edit.asm):00673                 BNE     ADVLIN                            ;NO, KEEP LOOKING
24BB 4F               (         edit.asm):00674                 CLRA                                      ;     ZERO RET
24BC 39               (         edit.asm):00675                 RTS
24BD                  (         edit.asm):00676         ADVEOF
24BD 335F             (         edit.asm):00677                 LEAU    -1,U                              ;BACKUP
24BF 39               (         edit.asm):00678                 RTS
                      (         edit.asm):00679         ;*
                      (         edit.asm):00680         ;* BACKUP A LINE
                      (         edit.asm):00681         ;*
24C0                  (         edit.asm):00682         BAKLIN
24C0 335F             (         edit.asm):00683                 LEAU    -1,U                              ;BACK TO CR
24C2                  (         edit.asm):00684         BAK1
24C2 11832A00         (         edit.asm):00685                 CMPU    #TEXT                             ;ARE WE OVER
24C6 250B             (         edit.asm):00686                 BLO     BAKTOF                            ;AT TOP OF FILE
24C8 2708             (         edit.asm):00687                 BEQ     FNDTOP                            ;WE FOUND THE TOP
24CA A6C2             (         edit.asm):00688                 LDA     ,-U                               ;GET CHAR
24CC 810D             (         edit.asm):00689                 CMPA    #$0D                              ;ARE WE OVER
24CE 26F2             (         edit.asm):00690                 BNE     BAK1                              ;NO, KEEP LOOKING
24D0 3341             (         edit.asm):00691                 LEAU    1,U                               ;SKIP AHEAD
24D2                  (         edit.asm):00692         FNDTOP
24D2 39               (         edit.asm):00693                 RTS
24D3                  (         edit.asm):00694         BAKTOF
24D3 CE2A00           (         edit.asm):00695                 LDU     #TEXT
24D6 86FF             (         edit.asm):00696                 LDA     #$FF                              ;SET M FLAG
24D8 39               (         edit.asm):00697                 RTS
                      (         edit.asm):00698         ;*
                      (         edit.asm):00699         ;* DISPLAY A LINE
                      (         edit.asm):00700         ;*
24D9                  (         edit.asm):00701         DSPLIN
24D9 3440             (         edit.asm):00702                 PSHS    U                                 ;SAVE REG
24DB 8D02             (         edit.asm):00703                 BSR     DSPADV                            ;DISPLAY
24DD 35C0             (         edit.asm):00704                 PULS    U,PC
24DF                  (         edit.asm):00705         DSPADV
24DF 6DC4             (         edit.asm):00706                 TST     ,U                                ;END OF TEXT?
24E1 2B16             (         edit.asm):00707                 BMI     DSPEOF                            ;IF SO, QUIT
24E3 A6C0             (         edit.asm):00708                 LDA     ,U+                               ;GET CHAR
24E5 8D0A             (         edit.asm):00709                 BSR     PUTCHR                            ;OUTPUT
24E7 810D             (         edit.asm):00710                 CMPA    #$0D                              ;END OF LINE
24E9 26F4             (         edit.asm):00711                 BNE     DSPADV                            ;CONTINUE
24EB                  (         edit.asm):00712         LFCR
24EB 860D             (         edit.asm):00713                 LDA     #$0D                              ;CR
24ED 8D02             (         edit.asm):00714                 BSR     PUTCHR
24EF 860A             (         edit.asm):00715                 LDA     #$0A                              ;LF
24F1                  (         edit.asm):00716         PUTCHR
24F1 7D25EF           (         edit.asm):00717                 TST     QCMD                              ;QUIET?
24F4 2702             (         edit.asm):00718                 BEQ     PUTQC                             ;SKIP IT
24F6 3F               (         edit.asm):00719                 SWI
24F7 21               (         edit.asm):00720                 FCB     33                                ;OUTPUT
24F8                  (         edit.asm):00721         PUTQC
24F8 39               (         edit.asm):00722                 RTS
24F9                  (         edit.asm):00723         DSPEOF
24F9 7D25EF           (         edit.asm):00724                 TST     QCMD
24FC 27FA             (         edit.asm):00725                 BEQ     PUTQC
24FE 3F               (         edit.asm):00726                 SWI
24FF 19               (         edit.asm):00727                 FCB     25
2500 454F463A00       (         edit.asm):00728                 FCN     'EOF:'
2505 39               (         edit.asm):00729                 RTS
                      (         edit.asm):00730         ;*
                      (         edit.asm):00731         ;* GET AN OPERAND
                      (         edit.asm):00732         ;*
2506                  (         edit.asm):00733         GETOP1
2506 3F               (         edit.asm):00734                 SWI
2507 04               (         edit.asm):00735                 FCB     4                                 ;ANYTHING ELSE?
2508 270E             (         edit.asm):00736                 BEQ     DEFAU1                            ;DEFAULT TO ONE
250A 3F               (         edit.asm):00737                 SWI
250B 08               (         edit.asm):00738                 FCB     8                                 ;GET NUMBER
250C 1026FBC6         (         edit.asm):00739                 LBNE    GOCMD                             ;NO, SKIP OT
2510 1F10             (         edit.asm):00740                 TFR     X,D                               ;COPY TO D
2512 4D               (         edit.asm):00741                 TSTA                                      ;     NON ZERO HIGH BYTE
2513 1026FF54         (         edit.asm):00742                 LBNE    BADOPR                            ;INVALID OPERAND
2517 39               (         edit.asm):00743                 RTS
2518                  (         edit.asm):00744         DEFAU1
2518 CC0001           (         edit.asm):00745                 LDD     #1                                ;ASSUME ONE
251B 39               (         edit.asm):00746                 RTS
                      (         edit.asm):00747         ;*
                      (         edit.asm):00748         ;* GET AN INPUT LINE FROM THE TERMINAL
                      (         edit.asm):00749         ;*
251C                  (         edit.asm):00750         GETLFCR
251C 17FFCC           (         edit.asm):00751                 LBSR    LFCR                              ;NEW LINE
251F                  (         edit.asm):00752         GETLIN
251F 108E2600         (         edit.asm):00753                 LDY     #RAM                              ;POINT TO INPUT BUFFER
2523 5F               (         edit.asm):00754                 CLRB                                      ;     START AT POSITION ZERO
2524 862E             (         edit.asm):00755                 LDA     #'.'                              ;PROMPT
2526 17FFC8           (         edit.asm):00756                 LBSR    PUTCHR                            ;DISPLAY
2529                  (         edit.asm):00757         GETL1
2529 7D25EE           (         edit.asm):00758                 TST     FCMD                              ;LOOK FOR FILE COMMAND
252C 271A             (         edit.asm):00759                 BEQ     FINP                              ;FILE INPUT
252E 3F               (         edit.asm):00760                 SWI
252F 22               (         edit.asm):00761                 FCB     34                                ;GET A CHARACTER
2530 811B             (         edit.asm):00762                 CMPA    #$1B                              ;ESCAPE <AUTO COMMAND>
2532 2729             (         edit.asm):00763                 BEQ     DOAUTO                            ;IF SO, HANDLE IT
2534 8108             (         edit.asm):00764                 CMPA    #$08                              ;BACKSPACE?
2536 2704             (         edit.asm):00765                 BEQ     DODEL
2538 817F             (         edit.asm):00766                 CMPA    #$7F                              ;DELETE?
253A 2611             (         edit.asm):00767                 BNE     NOTDEL                            ;NO, HANDLE AS USUAL
253C                  (         edit.asm):00768         DODEL
253C 5D               (         edit.asm):00769                 TSTB                                      ;     AT POSITION ZERO?
253D 27EA             (         edit.asm):00770                 BEQ     GETL1                             ;DO NOTHING
253F 5A               (         edit.asm):00771                 DECB                                      ;     BACKUP
2540 3F               (         edit.asm):00772                 SWI
2541 18               (         edit.asm):00773                 FCB     24                                ;DISPLAY MSG
2542 08200800         (         edit.asm):00774                 FCB     $08,$20,$08,0
2546 20E1             (         edit.asm):00775                 BRA     GETL1
2548                  (         edit.asm):00776         FINP
2548 170079           (         edit.asm):00777                 LBSR    READC                             ;READ A CHARACTER
254B 2621             (         edit.asm):00778                 BNE     FINEOF                            ;FILE INPUT END OF FILE
254D                  (         edit.asm):00779         NOTDEL
254D 17FFA1           (         edit.asm):00780                 LBSR    PUTCHR                            ;DISPLAY
2550 A7A5             (         edit.asm):00781                 STA     B,Y                               ;SAVE IN BUFFER
2552 5C               (         edit.asm):00782                 INCB                                      ;     ADVANCE
2553 2BC7             (         edit.asm):00783                 BMI     GETLFCR                           ;OVERFLOW
2555 810D             (         edit.asm):00784                 CMPA    #$0D                              ;ARE WE PAST
2557 26D0             (         edit.asm):00785                 BNE     GETL1                             ;GO AGAIN
2559                  (         edit.asm):00786         INRT
2559 17FF8F           (         edit.asm):00787                 LBSR    LFCR
255C 39               (         edit.asm):00788                 RTS
255D                  (         edit.asm):00789         DOAUTO
255D 8E2929           (         edit.asm):00790                 LDX     #AUTSTR                           ;POINT TO AUTO STRING
2560                  (         edit.asm):00791         DOAUT1
2560 A680             (         edit.asm):00792                 LDA     ,X+                               ;GET CHAR FROM AUTO STRING
2562 A7A5             (         edit.asm):00793                 STA     B,Y                               ;SAVE IN INPUT
2564 5C               (         edit.asm):00794                 INCB                                      ;     ADVANCE
2565 810D             (         edit.asm):00795                 CMPA    #$0D                              ;END OF LINE?
2567 27F0             (         edit.asm):00796                 BEQ     INRT                              ;IF SO, QUIT
2569 17FF85           (         edit.asm):00797                 LBSR    PUTCHR                            ;DISPLAY
256C 20F2             (         edit.asm):00798                 BRA     DOAUT1                            ;CONTINUE
                      (         edit.asm):00799         ;* END OF FILE ON INPUT
256E                  (         edit.asm):00800         FINEOF
256E 3F               (         edit.asm):00801                 SWI
256F 19               (         edit.asm):00802                 FCB     25                                ;DISPLAY MESSAGE
2570 3F454F463F00     (         edit.asm):00803                 FCN     '?EOF?'
2576 8609             (         edit.asm):00804                 LDA     #9                                ;RC=9
2578 3F               (         edit.asm):00805                 SWI
2579 00               (         edit.asm):00806                 FCB     0
                      (         edit.asm):00807         ;* CONVERT INPUT BUFFER TO UPPER-CASE
257A                  (         edit.asm):00808         UCASE
257A 1F21             (         edit.asm):00809                 TFR     Y,X                               ;COPY POINTER
257C                  (         edit.asm):00810         UCASE0
257C A680             (         edit.asm):00811                 LDA     ,X+                               ;GET CHAR
257E 8161             (         edit.asm):00812                 CMPA    #'A'+$20        <LC 'A'
2580 2508             (         edit.asm):00813                 BLO     UCASE1                            ;OK
2582 817A             (         edit.asm):00814                 CMPA    #'Z'+$20        >LC 'Z'
2584 2204             (         edit.asm):00815                 BHI     UCASE1                            ;OK
2586 8020             (         edit.asm):00816                 SUBA    #$20                              ;CONVERT TO UPPER
2588 A71F             (         edit.asm):00817                 STA     -1,X                              ;RESAVE
258A                  (         edit.asm):00818         UCASE1
258A 810D             (         edit.asm):00819                 CMPA    #$0D                              ;CR?
258C 26EE             (         edit.asm):00820                 BNE     UCASE0                            ;NO, KEEP CONVERTING
258E 39               (         edit.asm):00821                 RTS
                      (         edit.asm):00822         ;*
                      (         edit.asm):00823         ;* EXIT EDITOR, TERMINATE AND SAVE THE FILE
                      (         edit.asm):00824         ;*
258F                  (         edit.asm):00825         EXIT
258F 108E2910         (         edit.asm):00826                 LDY     #FILNAM                           ;POINT TO FILENAME
2593 3F               (         edit.asm):00827                 SWI
2594 0A               (         edit.asm):00828                 FCB     10                                ;GET IN BUFFER
2595 8D06             (         edit.asm):00829                 BSR     SAVFIL                            ;SAVE IT
2597 1026FB3B         (         edit.asm):00830                 LBNE    GOCMD
259B 3F               (         edit.asm):00831                 SWI
259C 00               (         edit.asm):00832                 FCB     0                                 ;EXIT
                      (         edit.asm):00833         ;* SAVE FILE USING BLOCK WRITE
259D                  (         edit.asm):00834         SAVFIL
259D 17FF0E           (         edit.asm):00835                 LBSR    FNDEOF                            ;FIND END OF FILE
25A0 335F             (         edit.asm):00836                 LEAU    -1,U                              ;REDUCE BY ONE
25A2 1F30             (         edit.asm):00837                 TFR     U,D                               ;SAVE
25A4 832A00           (         edit.asm):00838                 SUBD    #TEXT                             ;GET SIZE OF FILE
25A7 1F89             (         edit.asm):00839                 TFR     A,B                               ;COPY TO B
25A9 4F               (         edit.asm):00840                 CLRA                                      ;     ZERO HIGH BYTE
25AA 54               (         edit.asm):00841                 LSRB                                      ;     512 BYTE BOUNDARIES
25AB 5C               (         edit.asm):00842                 INCB                                      ;     INCLUDE LAST SECTOR
25AC 8E2A00           (         edit.asm):00843                 LDX     #TEXT                             ;POINT TO RAM BUFFER
25AF 3F               (         edit.asm):00844                 SWI
25B0 36               (         edit.asm):00845                 FCB     54                                ;WRITE IT
25B1 39               (         edit.asm):00846                 RTS
25B2                  (         edit.asm):00847         OPENR
25B2 3440             (         edit.asm):00848                 PSHS    U
25B4 CE2700           (         edit.asm):00849                 LDU     #SERBUF
25B7 3F               (         edit.asm):00850                 SWI
25B8 37               (         edit.asm):00851                 FCB     55
25B9 35C0             (         edit.asm):00852                 PULS    U,PC
25BB                  (         edit.asm):00853         OPENW
25BB 3440             (         edit.asm):00854                 PSHS    U
25BD CE2700           (         edit.asm):00855                 LDU     #SERBUF
25C0 3F               (         edit.asm):00856                 SWI
25C1 38               (         edit.asm):00857                 FCB     56
25C2 35C0             (         edit.asm):00858                 PULS    U,PC
25C4                  (         edit.asm):00859         READC
25C4 3440             (         edit.asm):00860                 PSHS    U
25C6 CE2700           (         edit.asm):00861                 LDU     #SERBUF
25C9 3F               (         edit.asm):00862                 SWI
25CA 3B               (         edit.asm):00863                 FCB     59
25CB 35C0             (         edit.asm):00864                 PULS    U,PC
25CD                  (         edit.asm):00865         WRITEC
25CD 3440             (         edit.asm):00866                 PSHS    U
25CF CE2700           (         edit.asm):00867                 LDU     #SERBUF
25D2 3F               (         edit.asm):00868                 SWI
25D3 3D               (         edit.asm):00869                 FCB     61
25D4 35C0             (         edit.asm):00870                 PULS    U,PC
25D6                  (         edit.asm):00871         CLOSE
25D6 3440             (         edit.asm):00872                 PSHS    U
25D8 CE2700           (         edit.asm):00873                 LDU     #SERBUF
25DB 3F               (         edit.asm):00874                 SWI
25DC 39               (         edit.asm):00875                 FCB     57
25DD 35C0             (         edit.asm):00876                 PULS    U,PC
                      (         edit.asm):00877         ;*
                      (         edit.asm):00878         ;* QUALIFIER TABLE
                      (         edit.asm):00879         ;*
25DF                  (         edit.asm):00880         QTABLE
25DF 82               (         edit.asm):00881                 FCB     $82
25E0 2F4241544348     (         edit.asm):00882                 FCC     '/BATCH'
25E6 82               (         edit.asm):00883                 FCB     $82
25E7 2F5155494554     (         edit.asm):00884                 FCC     '/QUIET'
25ED 80               (         edit.asm):00885                 FCB     $80
     0002             (         edit.asm):00886         QMAX            = 2                               ;MAX. NUMBER OF QUALIFIERS
                      (         edit.asm):00887         ;* EDITOR SWITCHES
25EE                  (         edit.asm):00888         FCMD
25EE FF               (         edit.asm):00889                 FCB     $FF                               ;FILE COMMAND INPUT
25EF                  (         edit.asm):00890         QCMD
25EF FF               (         edit.asm):00891                 FCB     $FF

Symbol Table:
[ G] ABORT                            20FD
[ G] ADVEOF                           24BD
[ G] ADVLIN                           24B3
[ G] AUT1                             242F
[ G] AUTCMD                           2428
[ G] AUTSTR                           2929
[ G] BADOPR                           246B
[ G] BAK1                             24C2
[ G] BAKLIN                           24C0
[ G] BAKTOF                           24D3
[ G] CHA                              21CF
[ G] CHA1                             21CD
[ G] CHAL                             2247
[ G] CHAL1                            2255
[ G] CHAL2                            225C
[ G] CHAL3                            2284
[ G] CHAL4                            2294
[ G] CHAL5                            2290
[ G] CHGF                             229B
[ G] CHL1                             21F0
[ G] CLOSE                            25D6
[ G] CNOTF                            2213
[ G] CNOTR                            2211
[ G] COM1                             20E6
[ G] COM2                             2118
[ G] COM3                             213E
[ G] COM4                             2150
[ G] COM5                             2172
[ G] COM6                             2180
[ G] COM7                             2191
[ G] COM8                             21BB
[ G] DEFAU1                           2518
[ G] DEL1                             21A2
[ G] DELETE                           249F
[ G] DELI1                            24A6
[ G] DOAUT1                           2560
[ G] DOAUTO                           255D
[ G] DOCH1                            22C4
[ G] DOCHG                            22BB
[ G] DODEL                            253C
[ G] DOSCMD                           2419
[ G] DSPADV                           24DF
[ G] DSPEOF                           24F9
[ G] DSPLIN                           24D9
[ G] DSQU1                            2062
[ G] EDBUF                            2680
[ G] EDI1                             2079
[ G] EDI2                             2087
[ G] EDIT                             2000
[ G] EDMSG                            20C9
[ G] EOF                              2129
[ G] EOF1                             218F
[ G] EOFTST                           21B4
[ G] EXIT                             258F
[ G] FCMD                             25EE
[ G] FILEXI                           20A9
[ G] FILNAM                           2910
[ G] FINEOF                           256E
[ G] FINP                             2548
[ G] FNDEOF                           24AE
[ G] FNDIT                            2325
[ G] FNDTOP                           24D2
[ G] GCMD                             247A
[ G] GETL1                            2529
[ G] GETLFCR                          251C
[ G] GETLIN                           251F
[ G] GETOP1                           2506
[ G] GOABO                            206C
[ G] GOCHG                            2252
[ G] GOCMD                            20D6
[ G] GOCMD1                           23AD
[ G] GOCMD2                           2437
[ G] GODEL                            21AA
[ G] GODEL1                           21AC
[ G] GODISP                           20E1
[ G] GOED1                            20BE
[ G] GOEDIT                           20B0
[ G] GOLFCR                           213A
[ G] HITEOF                           2320
[ G] INRT                             2559
[ G] INS1                             2480
[ G] INS2                             248B
[ G] INS3                             2496
[ G] INSERT                           247D
[ G] INSP                             2162
[ G] LFCR                             24EB
[ G] LOC1                             2303
[ G] LOC2                             230A
[ G] LOC3                             230C
[ G] LOCATE                           22FF
[ G] MAIN                             2074
[ G] MTC1                             22EB
[ G] MTC2                             22FA
[ G] MTC3                             22A2
[ G] MTCF                             22E9
[ G] MTCH                             22C6
[ G] MTCH1                            22C4
[ G] MTNOTF                           22E1
[ G] NEX1                             211F
[ G] NEXTL                            228E
[ G] NOCP                             20EE
[ G] NOTDEL                           254D
[ G] OPENR                            25B2
[ G] OPENW                            25BB
[ G] OSEND                            DBFF
[ G] OSRAM                            2000
[ G] OSUTIL                           D000
[ G] PR1                              2106
[ G] PRINT                            20FF
[ G] PUTCHR                           24F1
[ G] PUTQC                            24F8
[ G] QCMD                             25EF
[ G] QERR                             204A
[ G] QMAX                             0002
[ G] QTABLE                           25DF
[ G] QUAL                             2034
[ G] QUE1                             23EA
[ G] QUE2                             23F6
[ G] QUERY                            23DF
[ G] RAM                              2600
[ G] READ                             23B0
[ G] READ1                            23C5
[ G] READ2                            23CA
[ G] READ3                            23CF
[ G] READC                            25C4
[ G] REP1                             233C
[ G] REP2                             2349
[ G] REPEAT                           2330
[ G] REST1                            2448
[ G] SAVFIL                           259D
[ G] SAVPTR                           290E
[ G] SAVREST                          243A
[ G] SERBUF                           2700
[ G] SHOCHG                           2223
[ G] SHOR                             2246
[ G] STACK                            2A00
[ G] TEMP                             290A
[ G] TEMP1                            290C
[ G] TEXT                             2A00
[ G] TOF                              212E
[ G] UCASE                            257A
[ G] UCASE0                           257C
[ G] UCASE1                           258A
[ G] UNCMD                            2459
[ G] UNCMDB                           2457
[ G] UP1                              2145
[ G] WRITE                            2357
[ G] WRITEC                           25CD
[ G] WRLI1                            237B
[ G] WRLI2                            238F
[ G] WRLINS                           2370
